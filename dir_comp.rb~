#A little script to compare the contents of directories, in order to see what files may be missing

puts Dir.pwd

puts "Base directory?"
basedir = gets
if basedir.index('/') != 0
 basedir = "/" << basedir
end

puts basedir
bdr = Dir.entries("/home")
puts bdr


puts "Directory to compare against?"
compdir = gets
if compdir.index('/') != 0
 compdir = "/" << compdir
end
compdir = Dir.new(co)


cdr = compdir.glob("*")


puts "Type 1 for subdirectory comparison or 2 for full directory trace:"
mode = gets

diff=[]

if mode.to_i == 1

 puts "Be aware that this will compare the directories in base directory against the other directory, but that is not to say the opposite is also true.\n\n"

 
 Dir.chdir(compdir)
 cdr = Dir.glob("*")
 
 b = false
 x = y = 0

 while x != bdr.length

  while b == false and y != cdr.length
    if bdr[x] == cdr[y]
      b = true
    end
    y += 1
  end  
  
  if b == false
    diff.push(bdr[x]) #add to array of directories in base not in comparison
  end

  x += 1
  y = 0
 end

 puts "Directories present in base but not present in comparison: ", diff.join(", ")

end
